// ðŸ“œ VIRTUE ONE-LINERS CONFIGURATION
// All 27 Zikr phrases with their virtues and unlock requirements

export const VIRTUE_ONE_LINERS = {
  // Group 1: The Core Four (High Frequency)
  1: { // Bismillah
    virtues: [
      "The key that unlocks Barakah (blessing) in every action you start. âœ¨",
      "A shield that keeps Shaytan away from your food, home, and work. ðŸ›¡ï¸",
      "Transform any worldly habit into a spiritual act of worship. ðŸ”„"
    ],
    unlockAt: 33,
    category: "Core Four"
  },
  
  2: { // Alhamdulillah
    virtues: [
      "The best way to ensure your blessings continue to grow and increase. ðŸ“ˆ",
      "A phrase that will fill the entire scale of your good deeds on Judgement Day. âš–ï¸",
      "The first words of the Quran and the first words of the people of Paradise. ðŸŒ¤ï¸",
      "Expressing gratitude is the shortest path to a content and peaceful heart. â¤ï¸"
    ],
    unlockAt: 33,
    category: "Core Four"
  },
  
  3: { // Allahu Akbar
    virtues: [
      "A reminder that your Creator is greater than any worry or obstacle you face. ðŸ”ï¸",
      "Better for you than anything the sun rises and sets upon. â˜€ï¸",
      "The powerful declaration that humbles the ego and elevates the soul. â˜ï¸"
    ],
    unlockAt: 50,
    category: "Core Four"
  },
  
  4: { // SubhanAllah
    virtues: [
      "Every time you say this, a unique tree is planted for you in Paradise. ðŸŒ³",
      "One of the four phrases most beloved to the Most Merciful. ðŸ’•",
      "Wipe away your sins as easily as leaves falling from a tree in autumn. ðŸ‚"
    ],
    unlockAt: 100,
    category: "Core Four"
  },
  
  // Group 2: Seeking & Turning to Allah
  5: { // Astaghfirullah
    virtues: [
      "The 'Master Key' that opens doors to provision, strength, and children. ðŸ—ï¸",
      "Allah replaces your anxiety with ease for every sincere 'Astaghfirullah.' ðŸ•Šï¸",
      "Cleanse your heart from the rust of daily mistakes and spiritual fog. âœ¨"
    ],
    unlockAt: 100,
    category: "Seeking Allah"
  },
  
  6: { // Hasbiyallah
    virtues: [
      "The ultimate statement of sufficiency: If you have Allah, you have everything. ðŸ’Ž",
      "The prayer that brought peace and coolness to Ibrahim (AS) in the fire. ðŸ”¥"
    ],
    unlockAt: 100,
    category: "Seeking Allah"
  },
  
  7: { // Ya Allah
    virtues: [
      "The most powerful name; calling Him is the beginning of every miracle. ðŸŒŸ",
      "Directly connecting your soul to the Source of all existence. ðŸ”—"
    ],
    unlockAt: 100,
    category: "Seeking Allah"
  },
  
  8: { // Ya Rabbi
    virtues: [
      "The cry of every Prophet when they needed their Sustainer the most. ðŸ¤²",
      "Acknowledge the One who nurtures, protects, and guides you every second. ðŸª´"
    ],
    unlockAt: 100,
    category: "Seeking Allah"
  },
  
  9: { // Tawakkaltu alallah
    virtues: [
      "Hand over your heavy burdens to the One who never tires of carrying them. ðŸ“¦",
      "Walk into any difficulty with the confidence of a believer. ðŸš¶â€â™‚ï¸"
    ],
    unlockAt: 100,
    category: "Seeking Allah"
  },
  
  10: { // A'udhu billah
    virtues: [
      "Instantly retreat into the impenetrable fortress of Divine Protection. ðŸ°",
      "The strongest defense against the whispers of doubt and fear. ðŸ›¡ï¸"
    ],
    unlockAt: 100,
    category: "Seeking Allah"
  },
  
  11: { // Allahul musta'an
    virtues: [
      "A phrase of beautiful patience when facing things beyond your control. ðŸŒŠ",
      "Admit your weakness to the One who holds all the Strength. ðŸ’ª"
    ],
    unlockAt: 100,
    category: "Seeking Allah"
  },
  
  12: { // Tubtu ilallah
    virtues: [
      "Turn back to the One who is happier with your return than a lost traveler. ðŸ›£ï¸",
      "Fresh starts are always possible when you sincerely turn toward Him. ðŸŒ…"
    ],
    unlockAt: 100,
    category: "Seeking Allah"
  },
  
  // Group 3: Glorification & Salawat
  13: { // SubhanAllah wa bihamdihi
    virtues: [
      "Say it 100 times to have your sins forgiven, even if they are like ocean foam. ðŸŒŠ",
      "A light phrase on the tongue, but extremely heavy on the Divine Scales. âš–ï¸",
      "The prayer of the angels and the glorification of all created things. ðŸ•Šï¸"
    ],
    unlockAt: 200,
    category: "Glorification"
  },
  
  14: { // Allahumma salli wa sallim
    virtues: [
      "One Salawat on the Prophet (PBUH) brings ten blessings from Allah to you. âœ¨",
      "The closest people to the Prophet on Judgement Day are those who send most Salawat. ðŸ¤",
      "A proven way to have your prayers answered and your worries removed. ðŸ•¯ï¸"
    ],
    unlockAt: 200,
    category: "Salawat"
  },
  
  // Group 4: Prayer & Personal Du'as
  15: { // Subhana rabbiyal a'la
    virtues: [
      "The highest praise from the lowest position (Sajdah); the closest a slave is to Allah. ðŸ™‡â€â™‚ï¸"
    ],
    unlockAt: 200,
    category: "Prayer"
  },
  
  16: { // Subhana rabbiyal azim
    virtues: [
      "Honor the Magnificence of the One who holds the Heavens and the Earth. ðŸŒŒ"
    ],
    unlockAt: 200,
    category: "Prayer"
  },
  
  17: { // Rabbi ighfir li
    virtues: [
      "The Prophet (PBUH) sought this forgiveness between every prostration. ðŸ”„",
      "A short, powerful plea to erase the barriers between you and your Lord. ðŸ§¼"
    ],
    unlockAt: 200,
    category: "Du'a"
  },
  
  18: { // Rabbi irhamni
    virtues: [
      "Invoke the Mercy of the One whose Mercy precedes His Wrath. â¤ï¸"
    ],
    unlockAt: 200,
    category: "Du'a"
  },
  
  19: { // Rabbi rzuqni
    virtues: [
      "Ask the Provider for everything from your daily bread to your eternal Paradise. ðŸŽ"
    ],
    unlockAt: 200,
    category: "Du'a"
  },
  
  20: { // Rabbi yassir li
    virtues: [
      "The prayer for when life feels knotty and tasks feel impossible. ðŸ§¶"
    ],
    unlockAt: 300,
    category: "Du'a"
  },
  
  21: { // Rabbi zidni ilma
    virtues: [
      "The only thing Allah commanded the Prophet (PBUH) to ask for an increase in. ðŸ“–"
    ],
    unlockAt: 300,
    category: "Du'a"
  },
  
  // Group 5: Protection & Guidance
  22: { // Allahumma hfizni
    virtues: [
      "Ask for the Divine Guard that protects you from the front, back, right, and left. ðŸ§­"
    ],
    unlockAt: 300,
    category: "Protection"
  },
  
  23: { // Ihdinas sirat al-mustaqim
    virtues: [
      "The most important prayer in the life of a believer, repeated in every Salah. ðŸ›£ï¸"
    ],
    unlockAt: 300,
    category: "Guidance"
  },
  
  24: { // Allahu akbar kabira
    virtues: [
      "A grand opening for your Zikr that shakes the gates of the Heavens. âš¡"
    ],
    unlockAt: 300,
    category: "Glorification"
  },
  
  25: { // Alhamdulillahi kathira
    virtues: [
      "Abundant praise for the One whose blessings are countless and infinite. â™¾ï¸"
    ],
    unlockAt: 300,
    category: "Glorification"
  },
  
  26: { // Qina azab annar
    virtues: [
      "The ultimate request for safety from the greatest of all dangers. ðŸ›¡ï¸"
    ],
    unlockAt: 300,
    category: "Protection"
  },
  
  27: { // La ilaha illallah
    virtues: [
      "The best form of remembrance and the key to the gates of Jannah. ðŸ”‘",
      "The weight of this phrase is heavier than the seven heavens and the earth combined. âš–ï¸",
      "Whoever's last words are these, they shall enter Paradise. ðŸ¡",
      "The foundation of faith that renews the light within your heart. ðŸ•¯ï¸"
    ],
    unlockAt: 500,
    category: "Shahadah"
  }
};

// Helper function to get a random virtue for a phrase
export const getRandomVirtue = (phraseId) => {
  const virtueData = VIRTUE_ONE_LINERS[phraseId];
  if (!virtueData || !virtueData.virtues || virtueData.virtues.length === 0) {
    return null;
  }
  
  const randomIndex = Math.floor(Math.random() * virtueData.virtues.length);
  return {
    text: virtueData.virtues[randomIndex],
    category: virtueData.category,
    unlockAt: virtueData.unlockAt
  };
};

// Check if virtue should be unlocked
export const shouldUnlockVirtue = (phraseId, phraseTapCount) => {
  const virtueData = VIRTUE_ONE_LINERS[phraseId];
  if (!virtueData) return false;
  
  return phraseTapCount >= virtueData.unlockAt;
};

// Get all unlocked virtues for user
export const getUnlockedVirtues = (phraseCounts) => {
  const unlocked = [];
  
  Object.keys(phraseCounts).forEach(phraseId => {
    const count = phraseCounts[phraseId] || 0;
    const virtueData = VIRTUE_ONE_LINERS[parseInt(phraseId)];
    
    if (virtueData && count >= virtueData.unlockAt) {
      unlocked.push({
        phraseId: parseInt(phraseId),
        virtues: virtueData.virtues,
        category: virtueData.category,
        unlockedAt: count
      });
    }
  });
  
  return unlocked;
};

// Get virtue unlock progress
export const getVirtueProgress = (phraseId, currentCount) => {
  const virtueData = VIRTUE_ONE_LINERS[phraseId];
  if (!virtueData) return { unlocked: false, progress: 0, remaining: 0 };
  
  const unlocked = currentCount >= virtueData.unlockAt;
  const progress = Math.min(100, (currentCount / virtueData.unlockAt) * 100);
  const remaining = Math.max(0, virtueData.unlockAt - currentCount);
  
  return {
    unlocked,
    progress,
    remaining,
    unlockAt: virtueData.unlockAt
  };
};

